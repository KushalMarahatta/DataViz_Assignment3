
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<title>D3 â€” Top 10 Groups by Year</title>
<script src="https://d3js.org/d3.v7.min.js"></script>
<style>
  body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial; }
  #wrap { width: 900px; margin: 20px auto; }
  .axis text { font-size: 11px; }
  #meta { margin: 6px 0 12px 0; }
</style>
</head>
<body>
<div id="wrap">
  <h2>Top 10 Terrorist Groups</h2>
  <div id="meta">
    <label for="yearSelect">Year: </label>
    <select id="yearSelect"></select>
    <span id="totalYear"></span>
  </div>
  <div id="chart"></div>
</div>

<script>
const RAW = {"1970": [{"gname": "Rebel Armed Forces of Guatemala (FAR)", "count": 3}, {"gname": "Dominican Popular Movement (MPD)", "count": 1}, {"gname": "MANO-D", "count": 1}, {"gname": "Sandinista National Liberation Front (FSLN)", "count": 1}, {"gname": "Unknown", "count": 1}], "1971": [{"gname": "Unknown", "count": 3}, {"gname": "Tony El Pelou Band", "count": 2}], "1972": [{"gname": "Unknown", "count": 3}], "1973": [{"gname": "Unknown", "count": 4}, {"gname": "Coalition of National Brigades", "count": 1}, {"gname": "Red June of 14 June", "count": 1}], "1974": [{"gname": "Unknown", "count": 4}, {"gname": "National Front for the Liberation of Cuba (FLNC)", "count": 2}, {"gname": "Dominican Popular Movement (MPD)", "count": 1}, {"gname": "M12J", "count": 1}, {"gname": "People's Revolutionary Army (ERP) (El Salvador)", "count": 1}, {"gname": "Rebel Armed Forces of Guatemala (FAR)", "count": 1}, {"gname": "Sandinista National Liberation Front (FSLN)", "count": 1}], "1975": [{"gname": "Guerrilla Army of the Poor (EGP)", "count": 3}, {"gname": "People's Revolutionary Army (ERP) (El Salvador)", "count": 3}, {"gname": "Unknown", "count": 2}, {"gname": "Sandinista National Liberation Front (FSLN)", "count": 1}], "1976": [{"gname": "Unknown", "count": 16}, {"gname": "Coordination of the United Revolutionary Organization (CORU)", "count": 9}, {"gname": "Guerrilla Army of the Poor (EGP)", "count": 9}, {"gname": "Anti-Castro Command", "count": 2}, {"gname": "Union Guerrera Blanca (UGB)", "count": 2}, {"gname": "People's Revolutionary Army (ERP) (El Salvador)", "count": 2}, {"gname": "Sandinista National Liberation Front (FSLN)", "count": 2}, {"gname": "Armed Forces of National Resistance (FARN)", "count": 1}, {"gname": "National Front for the Liberation of Cuba (FLNC)", "count": 1}, {"gname": "Roberto Santucho Revolutionary Group", "count": 1}], "1977": [{"gname": "Unknown", "count": 9}, {"gname": "Sandinista National Liberation Front (FSLN)", "count": 5}, {"gname": "People's Liberation Forces (FPL)", "count": 3}, {"gname": "Guerrilla Army of the Poor (EGP)", "count": 3}, {"gname": "Revolutionary Commandos of Solidarity", "count": 3}, {"gname": "People's Revolutionary Army (ERP) (El Salvador)", "count": 1}], "1978": [{"gname": "Sandinista National Liberation Front (FSLN)", "count": 61}, {"gname": "People's Liberation Forces (FPL)", "count": 45}, {"gname": "Unknown", "count": 38}, {"gname": "People's Revolutionary Army (ERP) (El Salvador)", "count": 22}, {"gname": "Guerrilla Army of the Poor (EGP)", "count": 10}, {"gname": "Armed Forces of National Resistance (FARN)", "count": 8}, {"gname": "Guatemalan Labor Party (PGT)", "count": 2}, {"gname": "Mano Blanca", "count": 2}, {"gname": "International Mercenary Brigade", "count": 2}, {"gname": "Secret Anti-Communist Army (ESA)", "count": 2}, {"gname": "Left-Wing Terrorists", "count": 1}, {"gname": "Farabundo Marti National Liberation Front (FMLN)", "count": 1}, {"gname": "Guerrillas", "count": 1}, {"gname": "Miguel Angel Cabrera Command", "count": 1}, {"gname": "Popular Revolutionary Bloc (BPR)", "count": 1}, {"gname": "Trinitarians", "count": 1}, {"gname": "United Popular Action Front (FAPU)", "count": 1}], "1979": [{"gname": "Unknown", "count": 198}, {"gname": "Sandinista National Liberation Front (FSLN)", "count": 126}, {"gname": "People's Liberation Forces (FPL)", "count": 119}, {"gname": "People's Revolutionary Army (ERP) (El Salvador)", "count": 35}, {"gname": "Armed Forces of National Resistance (FARN)", "count": 29}, {"gname": "Popular Revolutionary Bloc (BPR)", "count": 27}, {"gname": "Guerrilla Army of the Poor (EGP)", "count": 23}, {"gname": "Union Guerrera Blanca (UGB)", "count": 11}, {"gname": "United Popular Action Front (FAPU)", "count": 7}, {"gname": "Revolutionary Organization of People in Arms (ORPA)", "count": 6}, {"gname": "February 28 Popular League (El Salvador)", "count": 5}, {"gname": "Guatemalan Labor Party (PGT)", "count": 4}, {"gname": "Guerrillas", "count": 3}, {"gname": "Subversives", "count": 3}, {"gname": "Left-Wing Guerrillas", "count": 2}, {"gname": "Counter-revolutionaries", "count": 2}, {"gname": "Rebel Armed Forces of Guatemala (FAR)", "count": 2}, {"gname": "Death Squad of Organization Zero (Organizacion Cero)", "count": 1}, {"gname": "Armed Action Force (FADA)", "count": 1}, {"gname": "Central American Revolutionary Workers Party (PRTC)", "count": 1}, {"gname": "People's Military Organization (OMP)", "count": 1}, {"gname": "People's Army (Nicaragua)", "count": 1}, {"gname": "Secret Anti-Communist Army (ESA)", "count": 1}, {"gname": "Right-Wing Group", "count": 1}], "1980": [{"gname": "Unknown", "count": 739}, {"gname": "Farabundo Marti National Liberation Front (FMLN)", "count": 159}, {"gname": "Guerrilla Army of the Poor (EGP)", "count": 25}, {"gname": "Death Squad", "count": 20}, {"gname": "Revolutionary Organization of People in Arms (ORPA)", "count": 11}, {"gname": "February 28 Popular League (El Salvador)", "count": 10}, {"gname": "Secret Anti-Communist Army (ESA)", "count": 9}, {"gname": "Left-Wing Guerrillas", "count": 9}, {"gname": "Popular Revolutionary Bloc (BPR)", "count": 8}, {"gname": "Armed Group for the Liberation of Guadeloupe (GLAG)", "count": 6}, {"gname": "United Popular Action Front (FAPU)", "count": 5}, {"gname": "Left-Wing Terrorists", "count": 5}, {"gname": "Right-wing extremists", "count": 4}, {"gname": "Anti-Communist Commando of the South", "count": 4}, {"gname": "Democratic Revolutionary Front (FDR)", "count": 4}, {"gname": "Right-Wing Group", "count": 4}, {"gname": "Somozists", "count": 3}, {"gname": "Ex-Somoza National Guard", "count": 3}, {"gname": "Popular Anti-Communist Militias", "count": 3}, {"gname": "Maximiliano Hernandez Martinez Brigade", "count": 3}, {"gname": "Anti-Communist Patriotic Front", "count": 2}, {"gname": "Guatemalan Labor Party (PGT)", "count": 2}, {"gname": "Right-Wing Death Squad", "count": 2}, {"gname": "Organizacion Democratica Nacionalista (ORDEN)", "count": 2}, {"gname": "Lorenzo Zelaya Revolutionary Front (LZRF)", "count": 2}, {"gname": "Counter-revolutionaries", "count": 2}, {"gname": "Guadeloupe Liberation Army", "count": 1}, {"gname": "Guatemalan Communist Party", "count": 1}, {"gname": "Extreme Right Commando Brigade", "count": 1}, {"gname": "Communists", "count": 1}, {"gname": "Bloque Anti-Guerrillero de Oriente (BAGO)", "count": 1}, {"gname": "Armenian Secret Army for the Liberation of Armenia", "count": 1}, {"gname": "15th of September Liberation Legion", "count": 1}, {"gname": "Guerrillas", "count": 1}, {"gname": "Revolutionary Coordination of the Masses", "count": 1}, {"gname": "Rebel Armed Forces of Guatemala (FAR)", "count": 1}, {"gname": "Peasant Militants", "count": 1}, {"gname": "People's Revolutionary Union", "count": 1}, {"gname": "Party of National Conciliation", "count": 1}, {"gname": "Jamaica Labor Party", "count": 1}, {"gname": "National Liberation Army (El Salvador)", "count": 1}, {"gname": "National Liberation Movement Party", "count": 1}, {"gname": "Sandinistas", "count": 1}, {"gname": "Revolutionary Student Brigade", "count": 1}, {"gname": "Revolutionary Workers Party", "count": 1}, {"gname": "Right Wing Vigilantes", "count": 1}, {"gname": "Student Revolutionary Front (FER)", "count": 1}, {"gname": "Somoza Sympathizers", "count": 1}, {"gname": "Union Guerrera Blanca (UGB)", "count": 1}, {"gname": "Terrorists", "count": 1}], "1981": [{"gname": "Unknown", "count": 783}, {"gname": "Farabundo Marti National Liberation Front (FMLN)", "count": 160}, {"gname": "Guerrilla Army of the Poor (EGP)", "count": 38}, {"gname": "Revolutionary Organization of People in Arms (ORPA)", "count": 24}, {"gname": "Ex-Somoza National Guard", "count": 20}, {"gname": "Death Squad", "count": 15}, {"gname": "31 January People's Front (FP-31)", "count": 14}, {"gname": "Left-Wing Terrorists", "count": 12}, {"gname": "Contras", "count": 11}, {"gname": "Extremists", "count": 9}, {"gname": "Left-Wing Guerrillas", "count": 7}, {"gname": "Guerrillas", "count": 6}, {"gname": "Cinchoneros Popular Liberation Movement", "count": 5}, {"gname": "Revolutionary Armed Forces of Nicaragua (FARN)", "count": 4}, {"gname": "Student Front of the People", "count": 4}, {"gname": "Armed People", "count": 3}, {"gname": "Guatemalan Labor Party (PGT)", "count": 3}, {"gname": "Lorenzo Zelaya Revolutionary Front (LZRF)", "count": 3}, {"gname": "Anti-Government Group", "count": 2}, {"gname": "Carlos Echeverria commando group", "count": 2}, {"gname": "Rebel Armed Forces of Guatemala (FAR)", "count": 2}, {"gname": "Martyrs of La Talanguera", "count": 2}, {"gname": "Subversives", "count": 2}, {"gname": "19th of July Christian Resistance Brigade", "count": 1}, {"gname": "Communists", "count": 1}, {"gname": "Guerrilla Commando of the people", "count": 1}, {"gname": "MILPAS Contras", "count": 1}, {"gname": "Left wing activists", "count": 1}, {"gname": "Counter-revolutionaries", "count": 1}, {"gname": "Guadeloupe Liberation Army", "count": 1}, {"gname": "Kuna Indians", "count": 1}, {"gname": "Nicaraguan Democratic Anti-Communist Movement", "count": 1}, {"gname": "Nicaraguans protesting their government", "count": 1}, {"gname": "Marxists", "count": 1}, {"gname": "Nicaraguan Counter Revolutionaries (group unk)", "count": 1}, {"gname": "Right-Wing Death Squad", "count": 1}, {"gname": "Somozists", "count": 1}, {"gname": "Roque Dalton Commando", "count": 1}, {"gname": "Right-wing extremists", "count": 1}, {"gname": "Vincente Mecha Revolutionary Christians", "count": 1}], "1982": [{"gname": "Unknown", "count": 533}, {"gname": "Farabundo Marti National Liberation Front (FMLN)", "count": 284}, {"gname": "Contras", "count": 60}, {"gname": "Guerrilla Army of the Poor (EGP)", "count": 33}, {"gname": "Revolutionary Organization of People in Arms (ORPA)", "count": 23}, {"gname": "Lorenzo Zelaya Revolutionary Front (LZRF)", "count": 22}, {"gname": "Death Squad", "count": 20}, {"gname": "Rebel Armed Forces of Guatemala (FAR)", "count": 3}, {"gname": "31 January People's Front (FP-31)", "count": 3}, {"gname": "Popular Revolutionary Bloc (BPR)", "count": 2}, {"gname": "Left-Wing Guerrillas", "count": 2}, {"gname": "Left-Wing Terrorists", "count": 2}, {"gname": "Anti Somoza Gp, name unk", "count": 1}, {"gname": "Cinchoneros Popular Liberation Movement", "count": 1}, {"gname": "Christian Group for the Respect for Life", "count": 1}, {"gname": "Guatemalan Labor Party (PGT)", "count": 1}, {"gname": "Juan Rayo Guerilla Group", "count": 1}, {"gname": "Gunmen", "count": 1}, {"gname": "Revolutionary Armed Forces of Nicaragua (FARN)", "count": 1}, {"gname": "Robin Garcia Student Front", "count": 1}, {"gname": "Sandinistas", "count": 1}], "1983": [{"gname": "Farabundo Marti National Liberation Front (FMLN)", "count": 320}, {"gname": "Nicaraguan Democratic Force (FDN)", "count": 205}, {"gname": "Unknown", "count": 170}, {"gname": "Democratic Revolutionary Alliance (ARDE)", "count": 53}, {"gname": "Contras", "count": 19}, {"gname": "Misurasata Indian Organization", "count": 17}, {"gname": "Caribbean Revolutionary Alliance (ARC)", "count": 15}, {"gname": "Left-Wing Guerrillas", "count": 8}, {"gname": "Revolutionary Front for National Liberation", "count": 6}, {"gname": "Cinchoneros Popular Liberation Movement", "count": 5}, {"gname": "Secret Anti-Communist Army (ESA)", "count": 5}, {"gname": "Revolutionary Organization of People in Arms (ORPA)", "count": 4}, {"gname": "Morazanist Front for the Liberation of Honduras (FMLH)", "count": 3}, {"gname": "Guatemalan Labor Party (PGT)", "count": 3}, {"gname": "Guadeloupe Liberation Army", "count": 3}, {"gname": "Left-Wing Terrorists", "count": 3}, {"gname": "Sandinistas", "count": 2}, {"gname": "Lorenzo Zelaya Revolutionary Front (LZRF)", "count": 2}, {"gname": "Maximiliano Hernandez Martinez Brigade", "count": 2}, {"gname": "Counter-revolutionaries", "count": 2}, {"gname": "Counterrevolutionary Solidarity (SC)", "count": 1}, {"gname": "Guatemalan Communist Party", "count": 1}, {"gname": "Guatemalan National Revolutionary Unity (URNG)", "count": 1}, {"gname": "Hector Rio De Brigade", "count": 1}, {"gname": "Gunmen", "count": 1}, {"gname": "Guerrilla Army of the Poor (EGP)", "count": 1}, {"gname": "Nicaraguan  Revolutionary Armed Force", "count": 1}, {"gname": "Rebel Armed Forces of Guatemala (FAR)", "count": 1}, {"gname": "Revolutionary Armed Forces of Nicaragua (FARN)", "count": 1}, {"gname": "Revolutionary Armed Forces (FAR)", "count": 1}, {"gname": "Sandinist People's Army (EPS)", "count": 1}], "1984": [{"gname": "Farabundo Marti National Liberation Front (FMLN)", "count": 254}, {"gname": "Nicaraguan Democratic Force (FDN)", "count": 227}, {"gname": "Unknown", "count": 89}, {"gname": "Democratic Revolutionary Alliance (ARDE)", "count": 57}, {"gname": "Revolutionary Organization of People in Arms (ORPA)", "count": 15}, {"gname": "Misurasata Indian Organization", "count": 15}, {"gname": "Caribbean Revolutionary Alliance (ARC)", "count": 5}, {"gname": "Rebel Armed Forces of Guatemala (FAR)", "count": 2}, {"gname": "Gutierrez Gomez Resistance Group", "count": 2}, {"gname": "Guatemalan Labor Party (PGT)", "count": 2}, {"gname": "Revolutionary Workers Party", "count": 2}, {"gname": "Commandos", "count": 1}, {"gname": "Cinchoneros Popular Liberation Movement", "count": 1}, {"gname": "Costa Rican Peoples' Army (EPC)", "count": 1}, {"gname": "National Anti Communist Commando", "count": 1}, {"gname": "Morazanist Front for the Liberation of Honduras (FMLH)", "count": 1}, {"gname": "Left-Wing Terrorists", "count": 1}, {"gname": "Left-Wing Guerrillas", "count": 1}, {"gname": "Guerrilla Army of the Poor (EGP)", "count": 1}, {"gname": "Nicaraguan  Revolutionary Armed Force", "count": 1}, {"gname": "Salvadoran Guerrillas", "count": 1}, {"gname": "Subversives", "count": 1}], "1985": [{"gname": "Farabundo Marti National Liberation Front (FMLN)", "count": 422}, {"gname": "Nicaraguan Democratic Force (FDN)", "count": 233}, {"gname": "Unknown", "count": 65}, {"gname": "Democratic Revolutionary Alliance (ARDE)", "count": 22}, {"gname": "Rebel Armed Forces of Guatemala (FAR)", "count": 10}, {"gname": "Revolutionary Organization of People in Arms (ORPA)", "count": 6}, {"gname": "Death Squad", "count": 4}, {"gname": "Sandinist People's Army (EPS)", "count": 3}, {"gname": "Caribbean Revolutionary Alliance (ARC)", "count": 2}, {"gname": "Guerrilla Army of the Poor (EGP)", "count": 2}, {"gname": "Guatemalan National Revolutionary Unity (URNG)", "count": 1}, {"gname": "Left-Wing Guerrillas", "count": 1}, {"gname": "Homeland and Freedom Group", "count": 1}, {"gname": "Morazanist Front for the Liberation of Honduras (FMLH)", "count": 1}, {"gname": "Misurasata Indian Organization", "count": 1}, {"gname": "Miskito Indian Organization", "count": 1}, {"gname": "M-19 (Movement of April 19)", "count": 1}, {"gname": "Left-Wing Terrorists", "count": 1}, {"gname": "National Republican Alliance Party", "count": 1}, {"gname": "Sandinistas", "count": 1}, {"gname": "Secret Anti-Communist Army (ESA)", "count": 1}], "1986": [{"gname": "Farabundo Marti National Liberation Front (FMLN)", "count": 174}, {"gname": "Nicaraguan Democratic Force (FDN)", "count": 149}, {"gname": "Unknown", "count": 27}, {"gname": "Rebel Armed Forces of Guatemala (FAR)", "count": 8}, {"gname": "Kisan Indian Organization", "count": 7}, {"gname": "Democratic Revolutionary Alliance (ARDE)", "count": 7}, {"gname": "United Nicaraguan Opposition", "count": 5}, {"gname": "Revolutionary Organization of People in Arms (ORPA)", "count": 4}, {"gname": "Contras", "count": 1}, {"gname": "Commander Gonzalo Southern Group", "count": 1}, {"gname": "Cinchoneros Popular Liberation Movement", "count": 1}, {"gname": "Feliciano Argueta Front", "count": 1}, {"gname": "Misurasata Indian Organization", "count": 1}, {"gname": "Miskito Indian Organization", "count": 1}, {"gname": "Left-Wing Guerrillas", "count": 1}, {"gname": "Gunmen", "count": 1}, {"gname": "Salvadoran Guerrillas", "count": 1}, {"gname": "Revolutionary Armed Forces (FAR)", "count": 1}, {"gname": "Separatists", "count": 1}, {"gname": "Sandinistas", "count": 1}], "1987": [{"gname": "Farabundo Marti National Liberation Front (FMLN)", "count": 209}, {"gname": "Nicaraguan Resistance", "count": 143}, {"gname": "Nicaraguan Democratic Force (FDN)", "count": 80}, {"gname": "Unknown", "count": 79}, {"gname": "Maximiliano Gomez Revolutionary Brigade", "count": 13}, {"gname": "Lorenzo Zelaya Revolutionary Front (LZRF)", "count": 8}, {"gname": "Revolutionary Organization of People in Arms (ORPA)", "count": 7}, {"gname": "Guatemalan National Revolutionary Unity (URNG)", "count": 6}, {"gname": "Terrorists", "count": 4}, {"gname": "Guatemalan Labor Party (PGT)", "count": 3}, {"gname": "Death Squad", "count": 3}, {"gname": "Guerrilla Army of the Poor (EGP)", "count": 3}, {"gname": "National Anti Communist Commando", "count": 2}, {"gname": "Contras", "count": 1}, {"gname": "Guerrillas", "count": 1}, {"gname": "Marxists", "count": 1}, {"gname": "Nicaraguan Counter Revolutionaries (group unk)", "count": 1}, {"gname": "Rebel Armed Forces of Guatemala (FAR)", "count": 1}, {"gname": "Sandinistas", "count": 1}], "1988": [{"gname": "Farabundo Marti National Liberation Front (FMLN)", "count": 351}, {"gname": "Nicaraguan Resistance", "count": 62}, {"gname": "Unknown", "count": 35}, {"gname": "Death Squad", "count": 10}, {"gname": "Manuel Jose Arce Commando", "count": 6}, {"gname": "Revolutionary Organization of People in Arms (ORPA)", "count": 6}, {"gname": "Patriotic Morazanista Front (FPM)", "count": 4}, {"gname": "Guatemalan National Revolutionary Unity (URNG)", "count": 4}, {"gname": "Revolutionary Armed Organization", "count": 3}, {"gname": "Mano Blanca", "count": 3}, {"gname": "Lorenzo Zelaya Revolutionary Front (LZRF)", "count": 3}, {"gname": "Cinchoneros Popular Liberation Movement", "count": 2}, {"gname": "22 May 1948", "count": 1}, {"gname": "Guatemalan Labor Party (PGT)", "count": 1}, {"gname": "Guerrilla Army of the Poor (EGP)", "count": 1}, {"gname": "Maximiliano Gomez Revolutionary Brigade", "count": 1}, {"gname": "Rebel Armed Forces of Guatemala (FAR)", "count": 1}, {"gname": "Right-Wing Death Squad", "count": 1}], "1989": [{"gname": "Farabundo Marti National Liberation Front (FMLN)", "count": 335}, {"gname": "Unknown", "count": 85}, {"gname": "Nicaraguan Resistance", "count": 21}, {"gname": "Death Squad", "count": 14}, {"gname": "Guatemalan National Revolutionary Unity (URNG)", "count": 13}, {"gname": "Popular Liberation Resistance Force", "count": 6}, {"gname": "Revolutionary Organization of People in Arms (ORPA)", "count": 5}, {"gname": "Patriotic Morazanista Front (FPM)", "count": 5}, {"gname": "9 May People's Liberation Force", "count": 4}, {"gname": "Cinchoneros Popular Liberation Movement", "count": 3}, {"gname": "United Revolutionary Front", "count": 2}, {"gname": "Right Wing Vigilantes", "count": 2}, {"gname": "Anti-Imperialist Patriotic Union", "count": 1}, {"gname": "Anti-Communist Action Alliance", "count": 1}, {"gname": "Maximiliano Hernandez Martinez Brigade", "count": 1}, {"gname": "Guerrilla Army of the Poor (EGP)", "count": 1}, {"gname": "Revolutionary United Front Movement", "count": 1}, {"gname": "Rebel Armed Forces of Guatemala (FAR)", "count": 1}, {"gname": "Secret Anti-Communist Army (ESA)", "count": 1}, {"gname": "Vigilante Group", "count": 1}], "1990": [{"gname": "Farabundo Marti National Liberation Front (FMLN)", "count": 181}, {"gname": "Unknown", "count": 92}, {"gname": "Guatemalan National Revolutionary Unity (URNG)", "count": 17}, {"gname": "20 December Movement (M-20)", "count": 6}, {"gname": "Nicaraguan Resistance", "count": 5}, {"gname": "Patriotic Morazanista Front (FPM)", "count": 4}, {"gname": "Revolutionary Organization of People in Arms (ORPA)", "count": 4}, {"gname": "Death Squad", "count": 3}, {"gname": "Guatemalan Labor Party (PGT)", "count": 1}, {"gname": "Morazanist Front for the Liberation of Honduras (FMLH)", "count": 1}, {"gname": "Patriotic Resistance Army (ERP)", "count": 1}, {"gname": "Right Wing Vigilantes", "count": 1}], "1991": [{"gname": "Farabundo Marti National Liberation Front (FMLN)", "count": 492}, {"gname": "Unknown", "count": 112}, {"gname": "Recontras", "count": 36}, {"gname": "Guatemalan National Revolutionary Unity (URNG)", "count": 35}, {"gname": "Death Squad", "count": 11}, {"gname": "Sandinistas", "count": 9}, {"gname": "Sandinista National Liberation Front (FSLN)", "count": 9}, {"gname": "Patriotic Morazanista Front (FPM)", "count": 6}, {"gname": "20 December Movement (M-20)", "count": 4}, {"gname": "Cinchoneros Popular Liberation Movement", "count": 2}, {"gname": "Recompras", "count": 2}, {"gname": "Drug-Related Terrorists", "count": 1}, {"gname": "Cubans seeking escape from Cuba", "count": 1}, {"gname": "Democratic Revolutionary Alliance (ARDE)", "count": 1}, {"gname": "Narco-Terrorists", "count": 1}, {"gname": "Miguel d'Escoto Brockman Community Movement", "count": 1}, {"gname": "Jorge Martinez Association of Combatants", "count": 1}, {"gname": "Islamic Brotherhood", "count": 1}, {"gname": "Elements Police Cobra Squadron", "count": 1}, {"gname": "Rebel Military Unit", "count": 1}, {"gname": "People's Information Group", "count": 1}, {"gname": "Right-Wing Group", "count": 1}], "1992": [{"gname": "Unknown", "count": 129}, {"gname": "Recontras", "count": 11}, {"gname": "Guatemalan National Revolutionary Unity (URNG)", "count": 9}, {"gname": "Farabundo Marti National Liberation Front (FMLN)", "count": 8}, {"gname": "Kuna Indians", "count": 6}, {"gname": "Death Squad", "count": 6}, {"gname": "20 December Movement (M-20)", "count": 6}, {"gname": "Punitive Leftist Front", "count": 5}, {"gname": "Patriotic Morazanista Front (FPM)", "count": 4}, {"gname": "Cinchoneros Popular Liberation Movement", "count": 3}, {"gname": "Recompras", "count": 3}, {"gname": "Panama Defense Force", "count": 3}, {"gname": "Anti-Government Demonstrators", "count": 2}, {"gname": "Former Govt. Troops", "count": 2}, {"gname": "Yatama", "count": 2}, {"gname": "Counter-revolutionaries", "count": 1}, {"gname": "Miskito Indian Organization", "count": 1}, {"gname": "Maximiliano Hernandez Martinez Brigade", "count": 1}, {"gname": "Jose Benito Escobar Workers Federation", "count": 1}, {"gname": "Opposition movement of Colon Province Unemployed", "count": 1}, {"gname": "Pirates", "count": 1}, {"gname": "Narco-Terrorists", "count": 1}, {"gname": "October 11 Group", "count": 1}, {"gname": "Sandinista National Liberation Front (FSLN)", "count": 1}, {"gname": "Sovereign Panama Patriotic Front", "count": 1}, {"gname": "Sandinistas", "count": 1}, {"gname": "Unemployed Persons", "count": 1}, {"gname": "Yich Telga", "count": 1}], "1994": [{"gname": "Unknown", "count": 134}, {"gname": "Guatemalan National Revolutionary Unity (URNG)", "count": 11}, {"gname": "Recontras", "count": 5}, {"gname": "Revolutionary Front for Hatian Advancement and Progress (FRAPH)", "count": 4}, {"gname": "Aristide supporters", "count": 4}, {"gname": "Former Interior Ministry Officers", "count": 3}, {"gname": "Guerrilla Army of the Poor (EGP)", "count": 2}, {"gname": "Patriotic Morazanista Front (FPM)", "count": 2}, {"gname": "Recompras", "count": 2}, {"gname": "El Mico Rebel Gray", "count": 1}, {"gname": "Ansar Allah", "count": 1}, {"gname": "Death Squad", "count": 1}, {"gname": "Cinchoneros Popular Liberation Movement", "count": 1}, {"gname": "Armed People", "count": 1}, {"gname": "Movement for Dignity and Soverignty", "count": 1}, {"gname": "Miskito Indian Organization", "count": 1}, {"gname": "Left-Wing Guerrillas", "count": 1}, {"gname": "Human Rights Defence Committee", "count": 1}, {"gname": "Farabundo Marti National Liberation Front (FMLN)", "count": 1}, {"gname": "Pro-Aristade", "count": 1}, {"gname": "National Democratic Party", "count": 1}, {"gname": "New Indigenous Army", "count": 1}], "1995": [{"gname": "Unknown", "count": 82}, {"gname": "Guatemalan National Revolutionary Unity (URNG)", "count": 28}, {"gname": "Death Squad", "count": 24}, {"gname": "Gunmen", "count": 4}, {"gname": "Association of Demobilized Armed Forces", "count": 3}, {"gname": "Recontras", "count": 2}, {"gname": "Professional Killers", "count": 2}, {"gname": "Central American Movement of Solidarity (MOSCA)", "count": 2}, {"gname": "Revolutionary Voice of the People (VPR)", "count": 2}, {"gname": "Sandinistas", "count": 2}, {"gname": "Strikers", "count": 2}, {"gname": "Political Activists", "count": 2}, {"gname": "Former Soldiers/Police", "count": 1}, {"gname": "Armed People", "count": 1}, {"gname": "Civil War Veterans", "count": 1}, {"gname": "Attaches", "count": 1}, {"gname": "Charlot Jacquelin Militant Front", "count": 1}, {"gname": "Patriotic Morazanista Front (FPM)", "count": 1}, {"gname": "Lavalas Supporters", "count": 1}, {"gname": "Peasant Self-Defense Group (ACCU)", "count": 1}, {"gname": "Sandinista Protester", "count": 1}, {"gname": "St. Kitts Nevis Labor Party", "count": 1}, {"gname": "Slum Dwellers", "count": 1}, {"gname": "Supporters of President J-B Aristide", "count": 1}, {"gname": "U/I Militia Group led by Raul Martinez", "count": 1}], "1996": [{"gname": "Unknown", "count": 88}, {"gname": "Guatemalan National Revolutionary Unity (URNG)", "count": 6}, {"gname": "Recontras", "count": 6}, {"gname": "Taxi Drivers", "count": 3}, {"gname": "Armed People", "count": 3}, {"gname": "Sandinista National Liberation Front (FSLN)", "count": 2}, {"gname": "Labor Union Leaders", "count": 1}, {"gname": "Gunmen", "count": 1}, {"gname": "Gang", "count": 1}, {"gname": "Demonstrators", "count": 1}, {"gname": "Last Alternative Guerrilla Front", "count": 1}, {"gname": "Political Activists", "count": 1}, {"gname": "Student Militants", "count": 1}, {"gname": "Viviana Gallardo Command", "count": 1}], "1997": [{"gname": "Unknown", "count": 91}, {"gname": "Protesters", "count": 4}, {"gname": "Strikers", "count": 4}, {"gname": "Northern Diriangen Front (FND)", "count": 3}, {"gname": "Raul Ernesto Cruz Leon, Salvadorian", "count": 3}, {"gname": "Columbia PM", "count": 2}, {"gname": "Guatemalan hired assasins", "count": 1}, {"gname": "Andres Castro United Front", "count": 1}, {"gname": "Paramilitaries", "count": 1}, {"gname": "Opposition Group", "count": 1}, {"gname": "Jamaica Labor Party", "count": 1}, {"gname": "Guerrilla Command Force 97", "count": 1}, {"gname": "Recontras", "count": 1}, {"gname": "Peasant Self-Defense Group (ACCU)", "count": 1}, {"gname": "Revolutionary Armed Forces of Colombia (FARC)", "count": 1}, {"gname": "Villagers", "count": 1}], "1998": [{"gname": "Unknown", "count": 1}], "1999": [{"gname": "Unknown", "count": 5}, {"gname": "Gunmen", "count": 2}, {"gname": "Andres Castro United Front", "count": 1}], "2000": [{"gname": "Unknown", "count": 9}, {"gname": "Andres Castro United Front", "count": 1}, {"gname": "Cuban Exiles", "count": 1}, {"gname": "Gunmen", "count": 1}, {"gname": "Protestant extremists", "count": 1}, {"gname": "Rastas", "count": 1}], "2001": [{"gname": "Unknown", "count": 5}, {"gname": "Gunmen", "count": 3}], "2002": [{"gname": "Face to Face (Face-a-Face)", "count": 1}, {"gname": "Fanmi Lavalas", "count": 1}, {"gname": "Gunmen", "count": 1}], "2003": [{"gname": "Cannibal Army", "count": 4}, {"gname": "Unknown", "count": 4}], "2004": [{"gname": "Unknown", "count": 5}], "2005": [{"gname": "Unknown", "count": 3}], "2006": [{"gname": "Unknown", "count": 5}], "2007": [{"gname": "Unknown", "count": 4}], "2009": [{"gname": "Unknown", "count": 8}, {"gname": "Revolutionary Armed Forces of Colombia (FARC)", "count": 1}], "2010": [{"gname": "Unknown", "count": 1}], "2011": [{"gname": "Unknown", "count": 1}], "2012": [{"gname": "Unknown", "count": 1}], "2013": [{"gname": "Unknown", "count": 14}], "2014": [{"gname": "Armed Forces for National Salvation - Army of the People (FASN-EP)", "count": 2}, {"gname": "Unknown", "count": 2}], "2015": [{"gname": "Unknown", "count": 1}], "2016": [{"gname": "Unknown", "count": 2}, {"gname": "Revolutionary Armed Forces of Colombia (FARC)", "count": 1}], "2017": [{"gname": "Unknown", "count": 4}], "2018": [{"gname": "Unknown", "count": 7}, {"gname": "Savane Pistache gang", "count": 3}, {"gname": "Right-wing extremists", "count": 2}, {"gname": "Peaceful Resistance Group of Mataquescuintla", "count": 2}, {"gname": "Neo-Fascist extremists", "count": 1}], "2019": [{"gname": "Unknown", "count": 10}, {"gname": "Nicaraguan Patriotic Alliance (APN)", "count": 3}, {"gname": "Anti-Government extremists", "count": 2}], "2020": [{"gname": "Unknown", "count": 13}]};

const margin = {top:20,right:30,bottom:40,left:300},
      width=860-margin.left-margin.right,
      height=480-margin.top-margin.bottom;

const svg=d3.select("#chart").append("svg")
  .attr("width",width+margin.left+margin.right)
  .attr("height",height+margin.top+margin.bottom)
  .append("g").attr("transform",`translate(${margin.left},${margin.top})`);

const x=d3.scaleLinear().range([0,width]),
      y=d3.scaleBand().range([0,height]).padding(0.18);

// NEW: color scale based on incident count (light -> dark)
const color = d3.scaleLinear().range(["#c7d2fe", "#1e3a8a"]);

const xAxisG=svg.append("g").attr("transform",`translate(0,${height})`);
const yAxisG=svg.append("g");
const barsG=svg.append("g");
const labelsG=svg.append("g");
const totalYear=d3.select("#totalYear");

const years=Object.keys(RAW).map(d=>+d).sort((a,b)=>a-b);
const sel=d3.select("#yearSelect");
sel.selectAll("option").data(years).join("option")
  .attr("value",d=>d).text(d=>d);
sel.on("change",ev=>update(+ev.target.value));

function update(year){
  const data=(RAW[year]||[]).map(d=>({gname:d.gname,count:+d.count||0}));
  const total=d3.sum(data,d=>d.count);
  totalYear.text(` | Total incidents in ${year}: ${total}`);

  const top10=data.sort((a,b)=>d3.descending(a.count,b.count)).slice(0,10);

  const maxV = d3.max(top10,d=>d.count) || 1;
  x.domain([0, maxV]);
  y.domain(top10.map(d=>d.gname));
  color.domain([0, maxV]); // NEW: set color scale domain each year

  xAxisG.call(d3.axisBottom(x).ticks(6).tickSizeOuter(0));
  yAxisG.call(d3.axisLeft(y).tickSizeOuter(0));

  const bars=barsG.selectAll("rect").data(top10,d=>d.gname);

  bars.exit().remove();

  const enter = bars.enter().append("rect")
      .attr("x",0)
      .attr("y",d=>y(d.gname))
      .attr("height",y.bandwidth())
      .attr("width",0)
      .attr("fill", d => color(d.count))
      .on("mouseenter", function(){ d3.select(this).attr("stroke","#0f172a").attr("stroke-width",1); })  // hover highlight
      .on("mouseleave", function(){ d3.select(this).attr("stroke","none"); });

  enter.merge(bars)
      .transition().duration(450)
      .attr("y",d=>y(d.gname))
      .attr("height",y.bandwidth())
      .attr("width",d=>Math.max(3,x(d.count)))
      .attr("fill", d => color(d.count));  // NEW: fill from color scale

  const labels=labelsG.selectAll("text").data(top10,d=>d.gname);
  labels.exit().remove();
  labels.enter().append("text")
      .attr("class","label")
      .style("font-size","11px")
    .merge(labels)
      .transition().duration(450)
      .attr("y",d=>y(d.gname)+y.bandwidth()/2+4)
      .attr("x",d=>x(d.count)+6)
      .style("fill","#111827")
      .text(d=>d.count);
}
const start=years[0]??1970;
sel.property("value",start);
update(start);
</script>
</body>
</html>
